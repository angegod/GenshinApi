(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{1582:(e,t,s)=>{"use strict";s.d(t,{G:()=>m,v:()=>h});var l=s(5155),a=s(2115),i=s(7665),n=s(7260),c=s(5424),r=s(5695),x=s(6900),d=s(9779);let o=function(){return(0,l.jsxs)("div",{className:"flex flex-col [&>span]:text-white max-w-[250px] p-1",children:[(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-white",children:"下方會顯示出該遺器的"})}),(0,l.jsxs)("ul",{className:"[&>li]:text-stone-400",children:[(0,l.jsx)("li",{children:"1.所屬套裝"}),(0,l.jsx)("li",{children:"2.主屬性及其數值"}),(0,l.jsx)("li",{children:"3.副屬性及其數值"}),(0,l.jsx)("li",{children:"4.個別副屬性強化次數"})]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("span",{className:"text-white",children:"此外下方有個重洗模擬按鈕，此功能將會帶入這個遺器的資訊進行重洗模擬"})})]})},m=a.memo(e=>{let{mode:t,button:s}=e,{relic:o,Rrank:m,Rscore:h,standDetails:f,isChangeAble:p,partArr:u,limit:j}=(0,a.useContext)(d.A),N=(0,r.useRouter)(),{setEnchantData:v}=(0,x.A)();if(void 0===o)return(0,l.jsx)(l.Fragment,{});{var w;let e=i.A.find(e=>e.fieldName===o.flat.reliquaryMainstat.mainPropId).name,a=i.A.find(e=>e.fieldName===o.flat.reliquaryMainstat.mainPropId).percent,r=[];return o.flat.reliquarySubstats.forEach(e=>{let t=i.A.find(t=>t.fieldName===e.appendPropId),s=t.name,a=void 0!==f.find(e=>e.name===s);r.push((0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("div",{className:"w-[150px] flex flex-row",children:(0,l.jsx)("span",{className:"".concat(a?"text-yellow-500 font-bold":"text-white"," text-left flex"),children:s})}),(0,l.jsxs)("div",{className:"flex w-[70px]",children:[(0,l.jsx)("span",{className:"mr-1",children:":"}),(0,l.jsxs)("span",{className:"text-right text-white ",children:[e.statValue,t.percent?"%":""]})]})]},"Subaffix_"+e.appendPropId))}),(0,l.jsxs)("div",{className:"w-[100%] my-1 ".concat(void 0!==o?"":"hidden"," max-[500px]:w-[330px] max-[400px]:w-[100%]"),children:[(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("span",{className:"text-red-600 text-lg font-bold",children:"遺器資訊"}),(0,l.jsx)("div",{className:"hintIcon ml-2 overflow-visible","data-tooltip-id":"RelicDataHint",children:(0,l.jsx)("span",{className:"text-white",children:"?"})})]}),(0,l.jsxs)("div",{className:"mt-1 flex flex-col",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"部位"}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("span",{className:"text-white",children:u[n.A[null==(w=o.flat)?void 0:w.equipType]-1]})})]}),(0,l.jsxs)("div",{className:"mt-1",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"主詞條"}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("div",{className:"flex flex-row max-w-[140px]",children:(0,l.jsx)("span",{className:"text-white whitespace-nowrap overflow-hidden text-ellipsis",children:e})}),(0,l.jsxs)("span",{className:"text-stone-400",children:[":",o.flat.reliquaryMainstat.statValue,a?"%":""]})]})]}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"強化保底次數"}),(0,l.jsx)("span",{className:"text-white",children:j})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"副詞條"}),(0,l.jsx)("div",{className:"flex flex-col w-[190px]",children:r})]}),s?(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("button",{className:"processBtn",onClick:function(){v({relic:o,Rrank:m,Rscore:h,standDetails:f,limit:2,mode:t}),N.push("./enchant")},disabled:!p,children:"重洗模擬"})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(c.m_,{id:"RelicDataHint",place:"right-start",style:{zIndex:99},render:()=>(0,l.jsxs)("div",{className:"flex flex-col [&>span]:text-white max-w-[250px] p-1",children:[(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-white",children:"下方會顯示出該遺器的"})}),(0,l.jsxs)("ul",{className:"[&>li]:text-stone-400",children:[(0,l.jsx)("li",{children:"1.所屬套裝"}),(0,l.jsx)("li",{children:"2.主屬性及其數值"}),(0,l.jsx)("li",{children:"3.副屬性及其數值"}),(0,l.jsx)("li",{children:"4.個別副屬性強化次數"})]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("span",{className:"text-white",children:"此外下方有個重洗模擬按鈕，此功能將會帶入這個遺器的資訊進行重洗模擬"})})]})})]})}}),h=a.memo(e=>{let{mode:t,button:s}=e,{relic:n,Rrank:m,Rscore:h,standDetails:f,isChangeAble:p,partArr:u,limit:j}=(0,a.useContext)(d.A),N=(0,r.useRouter)(),{setEnchantData:v}=(0,x.A)();if(void 0===n)return(0,l.jsx)(l.Fragment,{});{let e=[];return n.subaffix.forEach(t=>{let s=void 0!==f.find(e=>e.name===t.subaffix),a="";switch(i.A.find(e=>e.name===t.subaffix).icon,t.count){case 0:a="rgb(122, 122, 122)";break;case 1:a="rgb(67, 143, 67)";break;case 2:a="rgb(23, 93, 232)";break;case 3:a="rgb(67, 17, 184)";break;case 4:a="rgb(219, 171, 15)";break;case 5:a="#FF55FF"}e.push((0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)("span",{className:"mr-0.5 text-white w-[20px] h-[20px] rounded-[20px]   flex justify-center items-center",style:{backgroundColor:a},children:t.count})}),(0,l.jsx)("div",{className:"w-[160px] flex flex-row",children:(0,l.jsx)("span",{className:"".concat(s?"text-yellow-500 font-bold":"text-white"," text-left flex"),children:t.subaffix})}),(0,l.jsxs)("span",{className:"flex w-[80px]",children:[":",(0,l.jsx)("span",{className:"ml-2 text-white ",children:t.display})]})]},"Data"+t.subaffix))}),(0,l.jsxs)("div",{className:"w-[100%] my-1 max-[500px]:min-w-[250px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("span",{className:"text-red-600 text-lg font-bold",children:"遺器資訊"}),(0,l.jsx)("div",{className:"hintIcon ml-2 overflow-visible","data-tooltip-id":"RelicDataHint",children:(0,l.jsx)("span",{className:"text-white",children:"?"})})]}),(0,l.jsxs)("div",{className:"mt-1 flex flex-col",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"部位"}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("span",{className:"text-white",children:u[n.type-1]})})]}),(0,l.jsxs)("div",{className:"mt-1 flex flex-col",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"主詞條"}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("span",{className:"text-white",children:n.main_affix})})]}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"強化保底次數"}),(0,l.jsx)("span",{className:"text-white",children:j})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("span",{className:"text-stone-400 font-bold",children:"副詞條"}),(0,l.jsx)("div",{className:"flex flex-col w-[200px]",children:e})]}),s?(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("button",{className:"processBtn",onClick:()=>void(v({relic:n,Rrank:m,Rscore:h,standDetails:f,mode:t}),N.push("./enchant")),disabled:!p,children:"重洗模擬"})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(c.m_,{id:"RelicDataHint",place:"right-start",render:()=>(0,l.jsx)(o,{})})]})}})},3537:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var l=s(5155),a=s(2115),i=s(9779);let n=function(){let{mode:e}=(0,a.useContext)(i.A);return(0,l.jsxs)("div",{className:"flex flex-col w-[300px]",children:[(0,l.jsxs)("div",{className:"flex flex-col [&>span]:mb-1",children:[(0,l.jsx)("span",{children:"此區會顯示匹配這筆資料時所使用的詞條、其加權指數以及其指定優先級"}),(0,l.jsx)("span",{children:"下面講述加權指數跟指定優先級使用"})]}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-white font-bold",children:"加權指數"})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-stone-400",children:"每個詞條的分數占比，占比越高代表你越看重這個詞條。"})})]}),"Importer"===e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-md font-bold text-white",children:"指定優先級"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-stone-400",children:"系統看到該種類的副屬性詞條，被選定為強化保底詞條的優先級"}),(0,l.jsx)("span",{className:"text-yellow-400 font-bold",children:"數字越大則優先級越高"})]})]}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"font-bold",children:"注意事項"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-red-500 font-bold",children:"如果該詞條只會出現在主詞條上，則該詞條不可被指定"}),(0,l.jsx)("span",{className:"text-red-500 font-bold",children:"如果該聖遺物無法經過你指定的詞條種類標記兩個指定詞條，則系統自動給予其中一個非指定詞條為指定詞條。"})]})]})]}):null]})}},4422:(e,t,s)=>{"use strict";s.d(t,{StatusToastProvider:()=>c,Z:()=>x});var l=s(5155),a=s(2115),i=s(6766);s(7758);let n=(0,a.createContext)(),c=e=>{let{children:t}=e,[s,i]=(0,a.useState)(""),[c,x]=(0,a.useState)("idle"),[d,o]=(0,a.useState)("bg-stone-600"),m=(0,a.useRef)("default"),h=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||m.current;switch(t){case"success":o("bg-green-700");break;case"error":o("bg-red-700");break;default:o("bg-stone-600")}m.current=t};return(0,l.jsxs)(n.Provider,{value:{showStatus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";clearTimeout(h.current),clearTimeout(f.current),u(t),i(e),x("enter")},updateStatus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(h.current),clearTimeout(f.current),u(t),i(e),x("enter"),h.current=setTimeout(()=>{x("exit"),f.current=setTimeout(()=>{i(""),x("idle")},1e3)},2e3)},hideStatus:()=>{clearTimeout(h.current),clearTimeout(f.current),x("exit"),f.current=setTimeout(()=>{i(""),x("idle")},1e3)}},children:[t,(0,l.jsx)("div",{ref:p,className:"fixed w-full flex justify-center top-[50px] z-[200] opacity-80 ".concat("idle"===c?"hidden":""," ").concat("enter"===c?"toast-enter":""," ").concat("exit"===c?"toast-exit":""),children:(0,l.jsxs)("div",{className:"w-[150px] flex flex-row items-center justify-center ".concat(d," text-white px-3 py-3 rounded shadow-lg whitespace-pre-line text-center min-w-[250px]"),children:[(0,l.jsx)(r,{bgMode:m.current}),(0,l.jsx)("span",{className:"font-bold",children:s})]})})]})},r=e=>{let{bgMode:t}=e,s="",a="";switch(t){case"success":s="check.svg";break;case"error":s="cancel.svg";break;case"process":s="retry.svg",a="animate-spin"}return"default"!==t?(0,l.jsx)(i.default,{src:"".concat("/GenshinApi","/image/").concat(s),alt:"Logo",width:25,height:25,className:"".concat(a," mr-2")}):null},x=()=>(0,a.useContext)(n)},6900:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(5453).v)((e,t)=>({enchantData:{},setEnchantData:t=>e({enchantData:t}),getEnchantData:()=>t().enchantData}))},7260:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l={EQUIP_BRACER:1,EQUIP_NECKLACE:2,EQUIP_SHOES:3,EQUIP_RING:4,EQUIP_DRESS:5}},7665:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=[{fieldName:"FIGHT_PROP_HP",icon:"IconHP",type:"hp",name:"生命值",percent:!1,range:[209,239,269,299],isMain:!1},{fieldName:"FIGHT_PROP_HP_PERCENT",icon:"IconHP",type:"hp",name:"生命值%數",percent:!0,range:[4.1,4.7,5.3,5.8],isMain:!1},{fieldName:"FIGHT_PROP_DEFENSE",icon:"IconDefense",type:"def",name:"防禦力",percent:!1,range:[16,19,21,23],isMain:!1},{fieldName:"FIGHT_PROP_DEFENSE_PERCENT",icon:"IconDefense",type:"def",name:"防禦力%數",percent:!0,range:[5.1,5.8,6.6,7.3],isMain:!1},{fieldName:"FIGHT_PROP_ATTACK",icon:"IconAttack",type:"atk",name:"攻擊力",percent:!1,range:[16,19,21,23],isMain:!1},{fieldName:"FIGHT_PROP_ATTACK_PERCENT",icon:"IconAttack",type:"atk",name:"攻擊力%數",percent:!0,range:[4.1,4.7,5.3,5.8],isMain:!1},{fieldName:"FIGHT_PROP_ELEMENT_MASTERY",icon:"IconMastery",type:"elem",name:"元素精通",percent:!1,range:[16,19,21,23]},{fieldName:"FIGHT_PROP_CHARGE_EFFICIENCY",icon:"IconChargeEfficiency",type:"charge",name:"元素充能效率",percent:!0,range:[4.5,5.2,5.8,6.5],isMain:!1},{fieldName:"FIGHT_PROP_CRITICAL",icon:"IconCritical",type:"crit_rate",name:"暴擊率",percent:!0,range:[2.7,3.1,3.5,3.9],isMain:!1},{fieldName:"FIGHT_PROP_CRITICAL_HURT",icon:"IconCriticalHurt",type:"crit_dmg",name:"暴擊傷害",percent:!0,range:[5.4,6.2,7,7.8],isMain:!1},{fieldName:"FIGHT_PROP_FIRE_ADD_HURT",icon:"IconFire",type:"fire_dmg",name:"火屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_GRASS_ADD_HURT",icon:"IconGrass",type:"grass_dmg",name:"草屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_WATER_ADD_HURT",icon:"IconWater",type:"water_dmg",name:"水屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_ELEC_ADD_HURT",icon:"IconElec",type:"elec_dmg",name:"雷屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_ROCK_ADD_HURT",icon:"IconRock",type:"rock_dmg",name:"岩屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_WIND_ADD_HURT",icon:"IconWind",type:"wind_dmg",name:"風屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_ICE_ADD_HURT",icon:"IconIce",type:"ice_dmg",name:"冰屬性傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_PHYSICAL_ADD_HURT",icon:"IconPhysics",type:"phy_dmg",name:"物理傷害加成",percent:!0,isMain:!0},{fieldName:"FIGHT_PROP_HEAL_ADD",icon:"IconHeal",type:"heal_rate",name:"治療加成",percent:!0,isMain:!0}]},7758:()=>{},8390:(e,t,s)=>{"use strict";s.d(t,{Q:()=>m,V:()=>o});var l=s(5155),a=s(2115),i=s(7665),n=s(9779),c=s(4422),r=s(6766),x=s(5424),d=s(3537);let o=a.memo(()=>{let{standDetails:e}=(0,a.useContext)(n.A);if(void 0!==e&&0!==e.length){console.log(e);let t=e.filter(e=>e.SelectPriority>0).length>0,s=e.map(e=>(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsxs)("div",{className:"flex justify-between w-[15vw] min-w-[150px] mt-0.5",children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[t?(0,l.jsxs)("div",{className:"relative w-[20px] h-[20px]",children:[(0,l.jsx)("div",{className:"absolute inset-0 opacity-30 bg-center bg-no-repeat bg-contain ".concat(e.SelectPriority>0?"":"hidden"),style:{backgroundImage:"url('".concat("/GenshinApi","/image/lock.svg')")}}),(0,l.jsx)("span",{className:"relative top-[2px] text-xs font-bold text-stone-300 flex items-center justify-center w-full h-full",children:e.SelectPriority>0?e.SelectPriority:""})]}):null,(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-stone-400",children:e.name})})]}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-stone-400",children:e.value})})]})},"StandDetails_"+e.name));return(0,l.jsxs)("div",{className:"w-[100%] mb-5  my-1 max-[600px]:!min-w-[0px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("span",{className:"text-red-600 text-lg font-bold",children:"標準加權"}),(0,l.jsx)("div",{className:"hintIcon ml-2 overflow-visible","data-tooltip-id":"StandDetailsHint",children:(0,l.jsx)("span",{className:"text-white",children:"?"})})]}),(0,l.jsx)("div",{children:s}),(0,l.jsx)(x.m_,{id:"StandDetailsHint",place:"right",render:()=>(0,l.jsx)(d.A,{}),style:{zIndex:9999}})]})}}),m=a.memo(e=>{let{lock:t}=e,s="/GenshinApi",{selfStand:x,setSelfStand:d,isChangeAble:o,partsIndex:m}=(0,a.useContext)(n.A),{updateStatus:h}=(0,c.Z)();(0,a.useEffect)(()=>{let e=x.map((e,t)=>({...e,__index:t})).filter(e=>e.SelectPriority>0).sort((e,t)=>e.SelectPriority-t.SelectPriority);e.forEach((e,t)=>{e.SelectPriority=t+1}),d(x.map((t,s)=>{let l=e.find(e=>e.__index===s);return{...t,SelectPriority:l?l.SelectPriority:0}}))},[x.length]);let f=null==x?void 0:x.map((e,a)=>(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsxs)("div",{className:"flex justify-between w-[150px] max-w-[300px] mt-0.5 mr-2 max-[400px]:w-[70%]",children:[(0,l.jsx)("span",{className:"whitespace-nowrap overflow-hidden text-white text-ellipsis text-left w-[100px]",title:e.name,children:e.name}),(0,l.jsx)("input",{type:"number",min:0,max:1,className:"ml-2 text-center max-h-[30px] min-w-[30px] bgInput",defaultValue:e.value,title:"最小值為 0，最大為 1",onChange:e=>(function(e,t,s){((t=Number(t))>1||t<0||isNaN(t))&&(s.target.value=1,t=1,h("加權指數只能介於 0 跟 1 之間","error"));let l=[...x];l[e]={...l[e],value:t},d(l)})(a,e.target.value,e)})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[!1!==t?(0,l.jsxs)("div",{className:"relative w-[20px] h-[20px] cursor-pointer group",onClick:()=>(function(e){var t;let s=[...x],l=null!=(t=s[e].SelectPriority)?t:0;if(i.A.find(t=>t.name===s[e].name).isMain)return void h("該詞條只會出現主詞條\n不可選擇!!","error");if(0===l){let t=s.map(e=>e.SelectPriority).filter(e=>e>0);if(t.length>=4)return void h("最多只能鎖定 4 個項目","error");let l=t.length>0?Math.max(...t)+1:1;s[e].SelectPriority=l}else{let t=s[e].SelectPriority;s[e].SelectPriority=0;for(let e=0;e<s.length;e++)s[e].SelectPriority>t&&(s[e].SelectPriority-=1)}d(s)})(a),children:[(0,l.jsx)("div",{className:"absolute inset-0 opacity-30 bg-center bg-no-repeat bg-contain pointer-events-none ".concat(e.SelectPriority>0?"":"hidden group-hover:block"),style:{backgroundImage:"url('".concat(s,"/image/lock.svg')")}}),(0,l.jsx)("span",{className:"relative top-[2px] z-10 text-xs font-bold text-gray-300 flex items-center justify-center w-full h-full",children:e.SelectPriority>0?e.SelectPriority:""})]}):null,(0,l.jsx)(r.default,{src:"".concat(s,"/image/delete.svg"),alt:"刪除",width:20,height:20,className:"mx-auto cursor-pointer hover:opacity-80",onClick:()=>{d(e=>e.filter((e,t)=>t!==a))}})]})]},"StandDetails"+a));return(0,l.jsx)("div",{className:"flex flex-col",children:f})})},9779:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(2115).createContext)()}}]);