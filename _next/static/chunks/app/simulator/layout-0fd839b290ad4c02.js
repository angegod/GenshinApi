(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{2146:(e,t,s)=>{"use strict";function a(e){let{reason:t,children:s}=e;return s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),s(5262)},2636:(e,t,s)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),s(5155),s(7650),s(5744),s(589)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{bindSnapshot:function(){return n},createAsyncLocalStorage:function(){return i},createSnapshot:function(){return r}});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return l?new l:new a}function n(e){return l?l.bind(e):a.bind(e)}function r(){return l?l.snapshot():function(e,...t){return e(...t)}}},4514:(e,t,s)=>{Promise.resolve().then(s.bind(s,8886))},5028:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var a=s(6645),l=s.n(a)},5744:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=s(7828)},6645:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=s(8229)._(s(7357));function l(e,t){var s;let l={};"function"==typeof e&&(l.loader=e);let i={...l,...t};return(0,a.default)({...i,modules:null==(s=i.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return x}});let a=s(5155),l=s(2115),i=s(2146);function n(e){return{default:e&&"default"in e?e.default:e}}s(2636);let r={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},x=function(e){let t={...r,...e},s=(0,l.lazy)(()=>t.loader().then(n)),x=t.loading;function c(e){let n=x?(0,a.jsx)(x,{isLoading:!0,pastDelay:!0,error:null}):null,r=!t.ssr||!!t.loading,c=r?l.Suspense:l.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(s,{...e})]}):(0,a.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(c,{...r?{fallback:n}:{},children:d})}return c.displayName="LoadableComponent",c}},7828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,s(4054).createAsyncLocalStorage)()},8886:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(5155),l=s(2115),i=s(255),n=s(8390),r=s(4422),x=s(1582),c=s(8637),d=s(7901);s(5022);var o=s(9779),m=s(3336),f=s(2540),u=s(5424);let h=function(){return(0,a.jsxs)("div",{className:"flex flex-col max-w-[230px] ",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-white font-bold text-md",children:"使用方法"})}),(0,a.jsxs)("div",{className:"[&>span]:text-stone-400 flex flex-col",children:[(0,a.jsx)("span",{children:"根據聖遺物現有狀況"}),(0,a.jsx)("span",{children:"依序輸入詞條種類、詞條數值、強化次數"}),(0,a.jsx)("span",{className:"!text-yellow-500",children:"詞條數值不用輸入%"}),(0,a.jsx)("span",{className:"!text-yellow-500",children:"如果該詞條沒有被強化過，則強化次數打上0即可"})]}),(0,a.jsxs)("div",{className:"mt-2 [&>span]:text-stone-400 flex flex-col",children:[(0,a.jsx)("span",{children:"例如:今天有一個詞條為"}),(0,a.jsx)("span",{className:"!text-green-500",children:"暴擊傷害,數值13.4%,強化次數2"}),(0,a.jsx)("span",{children:"那麼只要依序key上"}),(0,a.jsx)("span",{className:"!text-green-500",children:"暴擊傷害 13.4 2"})]}),(0,a.jsxs)("div",{className:"mt-2 [&>span]:text-stone-400 flex flex-col",children:[(0,a.jsx)("span",{children:"每個詞條最右側都有勾選框"}),(0,a.jsx)("span",{className:"text-yellow-400",children:"現有遊戲重洗規定必須選定兩個詞條，這兩個詞條會享有保底強化次數"})]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,a.jsx)("span",{className:"text-white font-bold text-md",children:"注意事項:"}),(0,a.jsx)("span",{className:"text-red-500",children:"1.副詞條彼此間不能重複"}),(0,a.jsx)("span",{className:"text-red-500",children:"2.主詞條跟副詞條不可重複"}),(0,a.jsx)("span",{className:"text-red-500",children:"3.指定共享保底副詞條必為2個"})]})]})},p=function(){return(0,a.jsxs)("div",{className:"w-[300px] flex flex-col max-[600px]:my-3",children:[(0,a.jsx)("h2",{className:"text-red-600 font-bold text-lg",children:"使用說明"}),(0,a.jsxs)("ul",{className:"[&>li]:text-white list-decimal [&>li]:ml-2 max-[400px]:[&>li]:text-sm",children:[(0,a.jsx)("li",{children:"此工具主要目的是給予一些想要重洗詞條的人參考"}),(0,a.jsx)("li",{children:"翻盤機率是指說該遺器透過重洗詞條道具後導致遺器分數變高的機率為何"}),(0,a.jsx)("li",{children:"目前該工具只支援計算五星強化至滿等聖遺物"}),(0,a.jsx)("li",{children:"此工具相關數據、算法及操作功能仍有更改的可能，敬請見諒!"}),(0,a.jsxs)("li",{children:["操作說明可以參考",(0,a.jsx)("a",{href:"https://home.gamer.com.tw/artwork.php?sn=6065608",className:"!underline",children:"這篇"})]})]})]})};var j=s(8993);let v=function(){let e="GenshinSimulatorData",[t,v]=(0,l.useState)(null),[w,N]=(0,l.useState)(void 0),[b,g]=(0,l.useState)(),[y,S]=(0,l.useState)([]),_=["生之花","死之羽","時之沙","空之杯","理之冠"],[P,O]=(0,l.useState)(!1),[k,I]=(0,l.useState)(!0),[A,C]=(0,l.useState)(void 0),[D,H]=(0,l.useState)(void 0),[M,R]=(0,l.useState)({color:void 0,rank:void 0}),[E,L]=(0,l.useState)(void 0),[T,B]=(0,l.useState)(!0),X=(0,l.useRef)([]),[J,$]=(0,l.useState)(void 0),{showStatus:F,updateStatus:q,hideStatus:z}=(0,r.Z)(),[G,Q]=(0,l.useState)([]),[V,W]=(0,l.useState)(),[U,Z]=(0,l.useState)(2),{setHistory:K,getHistory:Y,addHistory:ee,deleteHistory:et}=(0,m.A)(),[es,ea]=(0,l.useState)(!1);(0,l.useEffect)(()=>{F("正在載入過往紀錄中......","process");for(var t=0;t<=3;t++){let e={index:t,subaffix:0,data:0,count:0,isSelect:!1};y.push(e)}S(y);let s=JSON.parse(localStorage.getItem(e));console.log(s),K(s||[]),s?q("先前紀錄已匯入!!","success"):q("尚未有任何操作紀錄!!","default"),ea(!0)},[]);let el={partArr:_,SubData:y,MainSelectOptions:b,isChangeAble:k,isSaveAble:P,partsIndex:w,standDetails:X.current,selfStand:G,charID:t,isLoad:es,mode:"Simulator",Rrank:M,Rscore:D,relic:V,ExpRate:A,PieNums:J,limit:U,checkDetails:function(e){let t=Y(e);R(t.rank),C(t.expRate),H(t.score),q("資料替換完畢!!","success"),$(t.pieData),X.current=t.stand,W(t.relic),requestAnimationFrame(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})},deleteHistoryData:function(t){et(t);let s=Y();localStorage.setItem(e,JSON.stringify(s))},setCharID:v,setMainSelectOptions:g,setPartsIndex:N,setIsChangeAble:I,setIsSaveAble:O,setSelfStand:Q,setSubData:S};return(0,a.jsxs)(o.A.Provider,{value:el,children:[(0,a.jsxs)("div",{className:"w-4/5 mx-auto mt-3 max-[600px]:w-[90%]",children:[(0,a.jsxs)("div",{className:"flex flex-row flex-wrap",children:[(0,a.jsxs)("div",{className:"w-2/5 bg-[rgba(0,0,0,0.5)] p-2 rounded-md max-[1200px]:w-full",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-2xl text-red-500 font-bold",children:"聖遺物重洗模擬"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-row my-3 items-center",children:[(0,a.jsx)("div",{className:"w-[200px] text-right max-[400px]:text-left max-[600px]:w-[120px]",children:(0,a.jsx)("span",{className:"text-white",children:"Char 腳色:"})}),(0,a.jsxs)("div",{className:"ml-1 flex flex-row items-center",children:[(0,a.jsx)(i.zj,{}),(0,a.jsx)("div",{className:"hintIcon ml-1 overflow-visible","data-tooltip-id":"CharHint",children:(0,a.jsx)("span",{className:"text-white",children:"?"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-row my-3",children:[(0,a.jsx)("div",{className:"w-[200px] text-right max-[400px]:text-left max-[600px]:w-[120px]",children:(0,a.jsx)("span",{className:"text-white",children:"Parts 部位:"})}),(0,a.jsx)("div",{className:"ml-1",children:(0,a.jsx)(i.q2,{})})]}),(0,a.jsxs)("div",{className:"flex flex-row my-3 ".concat(void 0===w?"hidden":""),children:[(0,a.jsx)("div",{className:"w-[200px] text-right max-[400px]:text-left max-[600px]:w-[120px]",children:(0,a.jsx)("span",{className:"text-white",children:"Main 主詞條:"})}),(0,a.jsx)("div",{className:"ml-1",children:(0,a.jsx)(i.Q2,{})})]}),(0,a.jsxs)("div",{className:"flex flex-row my-3 max-[600px]:flex-wrap ".concat(b?"":"hidden"),children:[(0,a.jsx)("div",{className:"w-[200px] text-right max-[400px]:text-left max-[600px]:w-[120px]",children:(0,a.jsx)("span",{className:"text-white",children:"Sub 副詞條:"})}),(0,a.jsxs)("div",{className:"flex flex-row max-[600px]:mx-auto",children:[(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(i.$X,{index:0}),(0,a.jsx)(i.$X,{index:1}),(0,a.jsx)(i.$X,{index:2}),(0,a.jsx)(i.$X,{index:3})]}),{lock:!1}),(0,a.jsx)("div",{className:"hintIcon ml-2 overflow-visible","data-tooltip-id":"SubAffixHint",children:(0,a.jsx)("span",{className:"text-white",children:"?"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-row my-3 items-center ".concat(b?"":"hidden"),children:[(0,a.jsx)("div",{className:"w-[200px] text-right max-[400px]:text-left max-[600px]:w-[120px]",children:(0,a.jsx)("span",{className:"text-white",children:"Affix 有效詞條:"})}),(0,a.jsx)(i.mM,{})]}),(0,a.jsxs)("div",{className:"flex flex-row my-3 ".concat(b?"":"hidden"),children:[(0,a.jsx)("div",{className:"w-[200px] text-right max-[400px]:text-left max-[600px]:w-[120px]",children:(0,a.jsx)("span",{className:"text-white",children:"Limit 保底次數:"})}),(0,a.jsxs)("div",{className:"pl-1 flex flex-row items-center",children:[(0,a.jsx)("input",{type:"text-white",className:"bgInput w-[40px] text-center",onChange:e=>Z(parseInt(e.target.value)),defaultValue:2,max:4}),(0,a.jsx)("div",{className:"hintIcon ml-1 overflow-visible","data-tooltip-id":"LimitHint",children:(0,a.jsx)("span",{className:"text-white",children:"?"})})]})]}),(0,a.jsxs)("div",{className:"mt-2 [&>*]:mr-2 flex flex-row max-[400px]:!flex-col ".concat(0===G.length?"hidden":""),children:[(0,a.jsx)("div",{className:"text-right w-[200px] max-[600px]:max-w-[120px] max-[400px]:text-left",children:(0,a.jsx)("span",{className:"text-white",children:"Params 參數:"})}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(n.Q,{lock:!1}),(0,a.jsx)("div",{className:"hintIcon ml-2 overflow-visible","data-tooltip-id":"ParamsHint",children:(0,a.jsx)("span",{className:"text-white",children:"?"})})]})]}),(0,a.jsx)("div",{className:"".concat(Number.isInteger(parseInt(w))?"":"hidden"," mt-2 mb-2 max-w-[400px] flex flex-row [&>*]:mr-2 justify-end max-[400px]:justify-start"),children:(0,a.jsxs)("div",{className:"flex flex-row mt-1",children:[(0,a.jsx)("button",{className:"processBtn mr-2 whitespace-nowrap",onClick:()=>(function(){let e=!1,t=0;if(y.some((s,a)=>s.subaffix===b?(q("第".concat(a+1,"個詞條:副詞條不可選擇與主詞條相同的詞條\n請再重新選擇!!"),"error"),e=!0,!0):"undefined"===s.subaffix||0===s.subaffix?(q("您還有副詞條沒有選擇\n請再重新選擇!!","error"),e=!0,!0):void(t+=s.count)),e)return;if(t<4||t>5)return void q("總強化次數只能為4或5次!","error");if(2!==y.filter((e,t)=>e.isSelect).length)return void q("您指定詞條數未滿2個!!","error");if(e)return;let a=new Set;for(let t of y){if(a.has(t.subaffix)){q("副詞條之間不可以選擇重複\n請再重新選擇!!","error"),e=!0;return}a.add(t.subaffix)}if(G.forEach(t=>{""===t.value&&(e=!0,alert("加權指數不可為空或其他非法型式"))}),e)return;let l=new Worker(s.tu(new URL(s.p+s.u(301),s.b))),i={MainData:b,SubData:y,partsIndex:parseInt(w),standard:G,limit:U,enchanceCount:t};O(!1),B(!1),I(!1),F("數據計算處理中!!","process"),C(void 0),R({color:void 0,rank:void 0}),$(void 0),H(void 0),W(void 0),l.postMessage(i),l.onmessage=function(e){let t;C(e.data.expRate),H(e.data.relicscore),$(e.data.returnData),R(e.data.relicrank),t={main_affix:b,subaffix:[]},y.forEach((e,t)=>{["生命值","攻擊力","防禦力","元素精通"].includes(e.subaffix)?e.display=e.data:e.display=e.data+"%"}),t.subaffix=y,t.type=parseInt(w),S(y),W(t),X.current=G,q("計算完畢!!","success"),B(!0),O(!0),I(!0)}})(),disabled:!T,children:"計算分數"}),(0,a.jsx)("button",{className:"processBtn mr-2 whitespace-nowrap",onClick:()=>(function(){let s=Y(),a=_[w-1],l=f.A.find(e=>e.charId===t);if(s?s.length>=6&&console.log("limit"):K([]),!J||void 0===A||!M||void 0===D)return void q("當前沒有任何數據，不予儲存!!","error");if(!t)return void q("沒有選擇任何腳色!!","error");let i={version:1.1,char:l,part:a,mainaffix:b,expRate:A,score:D,rank:M,pieData:J,stand:X.current,relic:V};console.log(i);let n=[...s,i];localStorage.setItem(e,JSON.stringify(n)),ee(i),q("紀錄已儲存","success"),O(!1)})(),disabled:!P,children:"儲存紀錄"})]})})]})]}),(0,a.jsxs)("div",{className:"w-[55%] ml-2 bg-[rgba(0,0,0,0.5)] rounded-md p-2 h-fit max-[1200px]:w-[100%] max-[1200px]:ml-0 max-[1200px]:mt-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-baseline px-2 max-[600px]:justify-center",children:[(0,a.jsx)("span",{className:"text-red-600 text-lg font-bold",children:"過往紀錄"}),(0,a.jsx)("div",{className:"hintIcon ml-2 overflow-visible","data-tooltip-id":"HistoryHint",children:(0,a.jsx)("span",{className:"text-white",children:"?"})})]}),(0,a.jsx)("div",{className:"flex flex-row flex-wrap h-max max-h-[300px] overflow-y-scroll hiddenScrollBar max-[600px]:!flex-col max-[600px]:!flex-nowrap max-[600px]:items-center",children:(0,a.jsx)(c.a,{})})]})]}),(0,a.jsx)("div",{className:"w-full my-2",children:(0,a.jsxs)("div",{className:"w-full flex flex-row bg-[rgba(0,0,0,0.5)] p-2 rounded-md flex-wrap ".concat(void 0===J?"hidden":""),children:[(0,a.jsx)("div",{className:"flex flex-row flex-wrap w-[18vw]  max-[700px]:w-[50%] ".concat(void 0===J?"hidden":""," max-[500px]:w-4/5 max-[500px]:mx-auto"),children:(0,a.jsx)(x.v,{mode:"Simulator",button:!0})}),(0,a.jsx)("div",{className:"w-1/4 max-[700px]:w-[50%] ".concat(void 0===J?"hidden":""," max-[500px]:w-4/5 max-[500px]:mx-auto"),children:(0,a.jsx)(n.V,{})}),(0,a.jsx)("div",{className:"flex flex-row flex-wrap w-1/2 max-[700px]:w-[100%] max-[500px]:w-4/5 max-[500px]:mx-auto ",id:"resultDetails",children:(0,a.jsx)(d.A,{})})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.m_,{id:"CharHint",place:"right-start",render:()=>(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-white",children:"選擇指定腳色，可以使用中文或英文關鍵字"}),(0,a.jsx)("span",{className:"text-white",children:"例如:Jingliu→鏡流"})]})}),(0,a.jsx)(u.m_,{id:"PartSelectHint",place:"right-start",render:()=>(0,a.jsxs)("div",{className:"flex flex-col max-w-[230px]",children:[(0,a.jsx)("span",{className:"text-white",children:"選擇遺器部位"}),(0,a.jsx)("span",{className:"text-white",children:'"主詞條"跟"副詞條"區塊中會自動帶入該部位詞條種類'})]})}),(0,a.jsx)(u.m_,{id:"SubAffixHint",place:"right-start",render:()=>(0,a.jsx)(h,{})}),(0,a.jsx)(u.m_,{id:"ParamsHint",place:"right-start",render:()=>(0,a.jsx)(j.A,{})}),(0,a.jsx)(u.m_,{id:"HistoryHint",place:"top-center",render:()=>(0,a.jsxs)("div",{className:"flex flex-col max-w-[250px] p-1",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-white",children:"此區塊可以查看過往查詢紀錄，下面為個別功能相關簡述。"})}),(0,a.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,a.jsx)("span",{className:"text-md font-bold text-white",children:"檢視"}),(0,a.jsx)("span",{children:"可以查看曾經查詢出來的資訊、包括遺器、評分標準等"})]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-md font-bold text-white",children:"刪除"})}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:"刪除該筆紀錄"})})]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-md font-bold text-white",children:"注意事項"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"!text-red-500",children:'"過往紀錄"最多只保留6筆'}),(0,a.jsx)("span",{className:"!text-yellow-500",children:"如果在已有6筆資料的情況再新增，則會從最舊的紀錄開始覆蓋掉"})]})]})]})}),(0,a.jsx)(u.m_,{id:"SimulatorHint",place:"right-start",render:()=>(0,a.jsx)(p,{}),clickable:!0}),(0,a.jsx)(u.m_,{id:"LimitHint",place:"right-start",render:()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"指定詞條強化保底次數，可以根據個人目前使用強化情況調整"}),(0,a.jsx)("span",{children:"指定詞條們的共享保底次數，最低為2，最高為4"})]}),clickable:!0})]})]})};function w(){return(0,a.jsx)(v,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[935,479,212,764,874,73,911,441,684,358],()=>t(4514)),_N_E=e.O()}]);